!function($){window.scrollTo(0,0),setTimeout((function(){t.play(),r.play()}),1e3);var e=new ScrollMagic.Controller,n=$("body"),t=new TimelineMax({paused:!0}).to(n,.15,{autoAlpha:1,ease:Power4.easeInOut});(new TimelineMax).set(n,{autoAlpha:0}),new ScrollMagic.Scene({triggerElement:"#img-cards"}).on("enter",(function(e){t.play()})).triggerHook(.6).addTo(e),$hero=$(".hero"),$opening=$hero.find(".opening"),$openingL=$opening.find(".opening-left"),$openingR=$opening.find(".opening-right");var r=new TimelineMax({paused:!0}).to($openingL,1,{xPercent:"+=50",yPercent:"-=30",ease:Power4.easeInOut}).to($openingR,1,{xPercent:"-=50",yPercent:"-=30",ease:Power4.easeInOut},"-=1").to($hero,.1,{filter:"brightness(1.3)",ease:Power4.easeInOut},"-=0.3").to($hero,.1,{filter:"brightness(1)",ease:Power4.easeInOut},"-=0.2").to($hero,.1,{filter:"brightness(1.3)",ease:Power4.easeInOut},"-=0.05").to($hero,.1,{filter:"brightness(1)",ease:Power4.easeInOut},"-=0.04");(new TimelineMax).set($openingL,{xPercent:"-=50",yPercent:"+=30",autoAlpha:1}).set($openingR,{xPercent:"+=50",yPercent:"+=30",autoAlpha:1});var i=$("#chart-immigration");$listImmigration=i.find("li");var a=$(".bar-first").width(),o=$listImmigration.first().find(".bar").attr("value");$(".bar").removeClass("grow"),(new TimelineMax).set($listImmigration.find(".bar"),{width:"0"});var s=!1;new ScrollMagic.Scene({triggerElement:"#chart-immigration"}).on("enter",(function(e){s||($listImmigration.each((function(e){var n=$(this).find(".bar").attr("value");$(this).find(".counter").html(n),$resultInPx=a/100*(100/o*n),$resultInPxFraction=$resultInPx/100*30;var t=$(this).find(".bar");$(this).find(".counter");TweenMax.to(t,1.5,{width:$resultInPx-$resultInPxFraction,ease:Power4.easeInOut})})),$(".counter").counterUp({delay:10,time:1e3}),s=!0)})).triggerHook(.7).addTo(e);var l=$("#chart-smic").find("li"),c=!1;new ScrollMagic.Scene({triggerElement:"#chart-smic"}).on("enter",(function(e){var n=l.first().find(".bar").attr("value");c||(l.each((function(e){var t=$(this).find(".bar").attr("value");$(this).find(".counter2").html(t),$resultInNbr=100/n*t,$resultInPx=a/100*$resultInNbr,$resultInPxFraction=$resultInPx/100*30;var r=$(this).find(".bar");TweenMax.to(r,1.5,{width:$resultInPx-$resultInPxFraction,ease:Power4.easeInOut})})),$(".counter2").counterUp({delay:10,time:1e3}),c=!0)})).triggerHook(.7).addTo(e),$("#chapter-selection").on("change",(function(){var e=$(this).val(),n=$("#"+e);n.length&&$("html, body").animate({scrollTop:n.offset().top},1e3)}))}(jQuery);